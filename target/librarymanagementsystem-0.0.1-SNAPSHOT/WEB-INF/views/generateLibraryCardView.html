<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="ISO-8859-1">
    <title>Library Card</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/library-card.css}" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>
   <header>
        <nav class="navbar navbar-expand-sm navbar-dark fixed-top">
        	<div class="container-fluid">
        		<div class="logo-container">
		            <img th:src="@{/img/unc-logo.png}" alt="Logo" class="logo">
		            <div class="text-container">
		                <span class="main-text">Library Management System</span>
		                <span class="sub-text">University of Nueva Caceres</span>
		            </div>
		        </div>
				<!--Button  -->
        	</div>
        </nav>
    </header>
    
    
	<div class="card">
	    <div class="card-header">
	          <!-- header  -->
	           <span class="image"><img th:src="@{${qrCodeUrl}}" alt="QR Code" /></span>  
	    </div>
	
	    <div class="card-body">
	        <span class="name"><span th:text="${libraryRegistrationForm.fullName}"></span>, <span th:text="${libraryRegistrationForm.yearLevel}"></span></span><br>
	        <span class="job-title"><u><span th:text="${libraryRegistrationForm.course}"></span></u></span>
	        <br>
	        <span class="job-title"><span th:text="${libraryRegistrationForm.department}"></span></span>
	        <div class="bio">
	        	<span th:text="${libraryRegistrationForm.uncEmail}"></span>
	        	<br>
	        	<span th:text="${libraryRegistrationForm.phoneNum}"></span>
	        </div>
	    </div>

	    <div class="card-footer">
	        <div class="stats">
	            <div class="stat">
	              <span class="label">Library Card</span>
	              <span class="value"><span th:text="${libraryRegistrationForm.libraryCardNumber}"></span></span>
	            </div>
	            <div class="stat">
	              <span class="label">Student Id</span>
	              <span class="value"><span th:text="${libraryRegistrationForm.studentId}"></span></span>
	            </div>
	        </div>
	    </div>
	</div>
	    
    <button onclick="downloadLibraryCard()">Download Library Card</button>

	<footer class="pt-3 pb-3" style="background-color: #3D3D3D;">
        <div class="container">
        <div class="row">
       		<!-- Left Section - Logo and Name -->
			<div class="col-lg-4 text-left d-flex justify-content-center align-items-center">
			    <div class="d-flex align-items-center">
			        <img th:src="@{/img/unc-logo.png}" alt="Logo" width="75" height="75">
			        <div class="ml-3 text-center">
			            <p class="mb-0 text-white">UNIVERSITY OF</p>
			            <p class="mb-0 text-white">NUEVA CACERES</p>
			        </div>
			    </div>
			</div>

            <!-- Middle Section - Address -->
            <div class="col-lg-4 text-center d-flex align-items-center justify-content-center">
            	<div class="pt-3" style="font-size: 15px; line-height: 0.1;">
	                <p class="text-white">J. Hernandez Avenue, Naga City 4404</p>
	                <p class="text-white">095611301775 | 09071566898</p>
	                <p><a href="">info@unc.edu.ph</a></p>
	                <p><a href="">admission@unc.edu.ph</a></p>
            	</div>
            </div>

            <!-- Left Section - Social Media Links -->
            <div class="col-lg-4 text-right d-flex align-items-center justify-content-center">
            
            	<div class="pt-3">
                <ul class="list-unstyled">
                    <li><a href="#" class="text-white">Facebook</a></li>
                    <li><a href="#" class="text-white">Twitter</a></li>
                    <li><a href="#" class="text-white">Instagram</a></li>
                </ul>
            	</div>
                
            </div>
        </div>
    </div>
    </footer>
    <div class="text-center text-white" style="background-color: #cc0000; font-size:10px;">
        	<p>Copyright © 2023. University of Nueva Caceres. All Rights Reserved.</p>
    </div>


	<!-- html2pdf CDN Library -->
    <script src="https://rawgit.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>
    <script>
        function downloadLibraryCard() {
            var element = document.querySelector('.card');

            html2pdf(element, {
                margin: 10,
                filename: 'library_card.pdf',
                image: { type: 'jpeg', quality: 1 },
                html2canvas: { 
                    scale: 1,
                    useCORS: true,  // Allow cross-origin images
                    logging: false  // Disable console logging for html2canvas
                },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            });

        }
    </script>

</body>

</html>
